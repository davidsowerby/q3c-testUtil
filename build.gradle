//build for testUtil
apply plugin: 'java'
apply plugin: 'maven'


project.ext.vaadinVersion = '7.3.4'
project.ext.guiceVersion = '3.0'


version = '0.7.0'

//jar {
//    libsDirName = "/home/david/jars"
//}

repositories {
    mavenCentral()
}

project.ext.exportDir = System.getProperty("user.home") + "/temp/jars/" + project.name

jar {
    libsDirName = exportDir
    println("jar exported to:  " + exportDir)
}

task writeNewPom << {
    pom {
        groupId = "uk.q3c.util"
        project {
            inceptionYear '2014'
            licenses {
                license {
                    name 'The Apache Software License, Version 2.0'
                    url 'http://www.apache.org/licenses/LICENSE-2.0.txt'
                    distribution 'repo'
                }
            }
        }
    }.writeTo(exportDir + "/" + project.name + "-" + version + ".pom")
}

task sourcesJar(type: Jar, dependsOn: classes) {
    classifier = 'sources'
    from sourceSets.main.allSource
}



task javadocJar(type: Jar, dependsOn: javadoc) {
    classifier = 'javadoc'
    from javadoc.destinationDir
}

task publish(dependsOn: ['sourcesJar', 'javadocJar', 'jar', 'writeNewPom']) {


}

artifacts {
    archives sourcesJar
    archives javadocJar
}
dependencies {

    //Dependency Injection
    compile 'com.google.inject:guice:' + guiceVersion


    //Logging
    compile 'org.slf4j:slf4j-api:1.6.6'
    compile 'org.slf4j:slf4j-log4j12:1.6.6'


}
